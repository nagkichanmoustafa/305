<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>T Distribution</title>

    <style>
        body {
            max-width: 440px;
        }
        
        pre {
            overflow-x: auto;
        }
        
        input {
            width: 50px
        }
    </style>
</head>

<body>

    <h2 id=title></h2>
    x = <input type=number id=ex value=0 onChange="calculate()"> &emsp; n = <input type=number id=lam value=1 onChange="calculate()"> &emsp;
    <span id=res></span>
    <pre id=out><b>Table</b></pre>

    <p id=out></p>

    <hr />
    <b>Sample code</b>
    <pre id=sample></pre>

    <hr />

    </p>


    <script>
        "use strict";

        function t_Dist(x, n, f = 4) {
            let s = Math.pow((x / (n - 1)), 2)
            let s1 = Math.sqrt(s)
            let m = x / n;
            let t = (x - m) / (s1 / Math.sqrt(n));
            return t.toFixed(f)
        }

        function calculate() {
            let x = Number(ex.value)
            if (!Number.isInteger(x)) {
                x = Math.round(x);
                ex.value = x
            }
            let n = Number(lam.value)
            res.innerText = "P(x, n) = " + t_Dist(x, n);
        }

        function doTable() {
            const α = [0.0005, 0.001, 0.005, 0.010, 0.025, 0.05, 0.1]
            let a = α.map((n) => 'α= ' + n)
            let str = header(a)
            for (let x = 0; x <= 7; x++) {
                let a = α.map((α) => t_Dist(x, n))
                str += oneLine(a, x)
            }
            return str
        }
        let header = (a) => '      ' + a.join('   ')
        let oneLine = (a, x) => '\nx=' + x + '  ' + a.join(' ')

        title.innerText = document.title
        sample.innerText = t_Dist + '\n' + doTable + '\n' + calculate
        calculate()
        out.innerText = doTable()
    </script>

</body>

</html>